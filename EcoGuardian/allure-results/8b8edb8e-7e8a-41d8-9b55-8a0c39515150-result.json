{"name": "Prueba de acceso a rutas protegidas", "status": "failed", "statusDetails": {"message": "AssertionError: b'login' not found in b'<!doctype html>\\n<html lang=\"en\">\\n\\n<head>\\n  <meta charset=\"utf-8\">\\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\\n  <title>inicio</title>\\n  <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\\n  <meta name=\"description\" content=\"\">\\n  <link href=\"https://fonts.googleapis.com/icon?family=material+icons\" rel=\"stylesheet\">\\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css\"\\n    integrity=\"sha384-mcw98/sfnge8fjt3gxweongsv7zt27nxfoaoapmym81iuxopkfojwj8erdknlpmo\" crossorigin=\"anonymous\">\\n  <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css\" rel=\"stylesheet\">\\n\\n</head>\\n\\n<body>\\n\\n  <div class=\"sidebar\">\\n\\n    <div class=\"fondo-logo\">\\n      <img src=\"/static/img/logo.png\" class=\"eco-guardian\" style=\"height: 35px; width: 30px;\"/>\\n      <div class=\"eco-guardian\">ecoguardian</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'eventos\\')\" class=\"frame-252 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'eventos\\')\" class=\"frame-252 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/ecoeventos.png\" class=\"icon\">\\n      <div class=\"ecoeventos\">ecoeventos</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'rutas\\')\" class=\"frame-253 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'rutas\\')\" class=\"frame-253 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/rutas.png\" class=\"icon\">\\n      <div class=\"rutas\">rutas</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'reportes\\')\" class=\"frame-254 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'reportes\\')\" class=\"frame-254 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/reporte.png\" class=\"icon\">\\n      <div class=\"reportar\">reportar</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'usuarios\\')\" class=\"frame-255 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'usuarios\\')\" class=\"frame-255 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/usuario.png\" class=\"icon\">\\n      <div class=\"nombre-usuario\">usuario</div>\\n    </div>\\n\\n  </div>\\n\\n  <div id=\"minimenu\" class=\"mini-menu hidden\">\\n    <ul id=\"minimenucontent\"></ul>\\n  </div>\\n\\n  <div class=\"content\">\\n    \\n<div class=\"welcome-container\">\\n    <h2 style=\"font-size: 20px;\">bienvenido\\n        <a href=\"/editar_perfil\" >perfil</a>\\n        , invitado!\\n        <a href=\"/logout\" class=\"logout-link\">cerrar sesi\\xc3\\xb3n</a>\\n    </h2>\\n</div>\\n\\n<div id=\"map\"></div>\\n\\n<!-- leaflet css -->\\n<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\"\\n    integrity=\"sha256-p4nxaojbhiin+hmnhrzrcf9td/mizyohs5obtrr9bmy=\" crossorigin=\"\" />\\n\\n<!-- leaflet js -->\\n<script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"\\n    integrity=\"sha256-20nqcchb9co0qijjzrguk2/z9vm+kniyxnv1lvtlzbo=\" crossorigin=\"\"></script>\\n\\n<!-- base js -->\\n<script src=\"/static/js/base.js\"></script>\\n\\n<!-- estilo css -->\\n\\n    <link rel=\"stylesheet\" href=\"/static/css/base.css\">\\n\\n\\n\\n  </div>\\n</body>\\n\\n<!-- base js -->\\n<script src=\"/static/js/base.js\"></script>\\n\\n</html>'", "trace": "self = <test_eco_guardian.TestEcoGuardian testMethod=test_protected_routes>\n\n    @allure.title(\"Prueba de acceso a rutas protegidas\")\n    @allure.description(\"Verifica que las rutas protegidas redirijan al login cuando no hay sesión\")\n    @allure.label(\"severity\", \"medium\")\n    def test_protected_routes(self):\n        with self.app as client:\n            response = client.get('/home', follow_redirects=True)\n            self.assertEqual(response.status_code, 200)\n>           self.assertIn(b'login', response.data.lower())\nE           AssertionError: b'login' not found in b'<!doctype html>\\n<html lang=\"en\">\\n\\n<head>\\n  <meta charset=\"utf-8\">\\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\\n  <title>inicio</title>\\n  <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\\n  <meta name=\"description\" content=\"\">\\n  <link href=\"https://fonts.googleapis.com/icon?family=material+icons\" rel=\"stylesheet\">\\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css\"\\n    integrity=\"sha384-mcw98/sfnge8fjt3gxweongsv7zt27nxfoaoapmym81iuxopkfojwj8erdknlpmo\" crossorigin=\"anonymous\">\\n  <link href=\"https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css\" rel=\"stylesheet\">\\n\\n</head>\\n\\n<body>\\n\\n  <div class=\"sidebar\">\\n\\n    <div class=\"fondo-logo\">\\n      <img src=\"/static/img/logo.png\" class=\"eco-guardian\" style=\"height: 35px; width: 30px;\"/>\\n      <div class=\"eco-guardian\">ecoguardian</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'eventos\\')\" class=\"frame-252 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'eventos\\')\" class=\"frame-252 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/ecoeventos.png\" class=\"icon\">\\n      <div class=\"ecoeventos\">ecoeventos</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'rutas\\')\" class=\"frame-253 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'rutas\\')\" class=\"frame-253 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/rutas.png\" class=\"icon\">\\n      <div class=\"rutas\">rutas</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'reportes\\')\" class=\"frame-254 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'reportes\\')\" class=\"frame-254 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/reporte.png\" class=\"icon\">\\n      <div class=\"reportar\">reportar</div>\\n    </div>\\n    <!-- <div onclick=\"showminimenu(\\'usuarios\\')\" class=\"frame-255 trigger-btn\" style=\"cursor: pointer;\"> -->\\n    <div onclick=\"checksession(\\'usuarios\\')\" class=\"frame-255 trigger-btn\" style=\"cursor: pointer;\">\\n      <img src=\"/static/img/usuario.png\" class=\"icon\">\\n      <div class=\"nombre-usuario\">usuario</div>\\n    </div>\\n\\n  </div>\\n\\n  <div id=\"minimenu\" class=\"mini-menu hidden\">\\n    <ul id=\"minimenucontent\"></ul>\\n  </div>\\n\\n  <div class=\"content\">\\n    \\n<div class=\"welcome-container\">\\n    <h2 style=\"font-size: 20px;\">bienvenido\\n        <a href=\"/editar_perfil\" >perfil</a>\\n        , invitado!\\n        <a href=\"/logout\" class=\"logout-link\">cerrar sesi\\xc3\\xb3n</a>\\n    </h2>\\n</div>\\n\\n<div id=\"map\"></div>\\n\\n<!-- leaflet css -->\\n<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\"\\n    integrity=\"sha256-p4nxaojbhiin+hmnhrzrcf9td/mizyohs5obtrr9bmy=\" crossorigin=\"\" />\\n\\n<!-- leaflet js -->\\n<script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"\\n    integrity=\"sha256-20nqcchb9co0qijjzrguk2/z9vm+kniyxnv1lvtlzbo=\" crossorigin=\"\"></script>\\n\\n<!-- base js -->\\n<script src=\"/static/js/base.js\"></script>\\n\\n<!-- estilo css -->\\n\\n    <link rel=\"stylesheet\" href=\"/static/css/base.css\">\\n\\n\\n\\n  </div>\\n</body>\\n\\n<!-- base js -->\\n<script src=\"/static/js/base.js\"></script>\\n\\n</html>'\n\ntests\\test_eco_guardian.py:71: AssertionError"}, "description": "Verifica que las rutas protegidas redirijan al login cuando no hay sesión", "start": 1746758851604, "stop": 1746758851607, "uuid": "d8c9d3e5-4462-4564-8613-5f56e9afd42a", "historyId": "59b118b2fc71a1a648fc12ac103e3e7f", "testCaseId": "59b118b2fc71a1a648fc12ac103e3e7f", "fullName": "tests.test_eco_guardian.TestEcoGuardian#test_protected_routes", "labels": [{"name": "severity", "value": "medium"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_eco_guardian"}, {"name": "subSuite", "value": "TestEcoGuardian"}, {"name": "host", "value": "EdwinFigueroa10"}, {"name": "thread", "value": "18524-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_eco_guardian"}]}